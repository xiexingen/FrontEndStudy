"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[593],{86128:function(dt,we,g){g.d(we,{Z:function(){return R}});var xe=g(87462),be=g(91),_=g(1413),ge=g(15671),ve=g(43144),U=g(97326),B=g(60136),Ce=g(18486),N=g(4942),k=g(93967),X=g.n(k),u=g(64217),A=g(67294),Me=g(27822),De=function(b){for(var J=b.prefixCls,r=b.level,q=b.isStart,W=b.isEnd,re="".concat(J,"-indent-unit"),c=[],v=0;v<r;v+=1)c.push(A.createElement("span",{key:v,className:X()(re,(0,N.Z)((0,N.Z)({},"".concat(re,"-start"),q[v]),"".concat(re,"-end"),W[v]))}));return A.createElement("span",{"aria-hidden":"true",className:"".concat(J,"-indent")},c)},$=A.memo(De),ke=g(35381),le=g(1089),fe=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],ne="open",s="close",x="---",P=function(V){(0,B.Z)(J,V);var b=(0,Ce.Z)(J);function J(){var r;(0,ge.Z)(this,J);for(var q=arguments.length,W=new Array(q),re=0;re<q;re++)W[re]=arguments[re];return r=b.call.apply(b,[this].concat(W)),(0,N.Z)((0,U.Z)(r),"state",{dragNodeHighlight:!1}),(0,N.Z)((0,U.Z)(r),"selectHandle",void 0),(0,N.Z)((0,U.Z)(r),"cacheIndent",void 0),(0,N.Z)((0,U.Z)(r),"onSelectorClick",function(c){var v=r.props.context.onNodeClick;v(c,(0,le.F)(r.props)),r.isSelectable()?r.onSelect(c):r.onCheck(c)}),(0,N.Z)((0,U.Z)(r),"onSelectorDoubleClick",function(c){var v=r.props.context.onNodeDoubleClick;v(c,(0,le.F)(r.props))}),(0,N.Z)((0,U.Z)(r),"onSelect",function(c){if(!r.isDisabled()){var v=r.props.context.onNodeSelect;v(c,(0,le.F)(r.props))}}),(0,N.Z)((0,U.Z)(r),"onCheck",function(c){if(!r.isDisabled()){var v=r.props,T=v.disableCheckbox,w=v.checked,z=r.props.context.onNodeCheck;if(!(!r.isCheckable()||T)){var de=!w;z(c,(0,le.F)(r.props),de)}}}),(0,N.Z)((0,U.Z)(r),"onMouseEnter",function(c){var v=r.props.context.onNodeMouseEnter;v(c,(0,le.F)(r.props))}),(0,N.Z)((0,U.Z)(r),"onMouseLeave",function(c){var v=r.props.context.onNodeMouseLeave;v(c,(0,le.F)(r.props))}),(0,N.Z)((0,U.Z)(r),"onContextMenu",function(c){var v=r.props.context.onNodeContextMenu;v(c,(0,le.F)(r.props))}),(0,N.Z)((0,U.Z)(r),"onDragStart",function(c){var v=r.props.context.onNodeDragStart;c.stopPropagation(),r.setState({dragNodeHighlight:!0}),v(c,(0,U.Z)(r));try{c.dataTransfer.setData("text/plain","")}catch(T){}}),(0,N.Z)((0,U.Z)(r),"onDragEnter",function(c){var v=r.props.context.onNodeDragEnter;c.preventDefault(),c.stopPropagation(),v(c,(0,U.Z)(r))}),(0,N.Z)((0,U.Z)(r),"onDragOver",function(c){var v=r.props.context.onNodeDragOver;c.preventDefault(),c.stopPropagation(),v(c,(0,U.Z)(r))}),(0,N.Z)((0,U.Z)(r),"onDragLeave",function(c){var v=r.props.context.onNodeDragLeave;c.stopPropagation(),v(c,(0,U.Z)(r))}),(0,N.Z)((0,U.Z)(r),"onDragEnd",function(c){var v=r.props.context.onNodeDragEnd;c.stopPropagation(),r.setState({dragNodeHighlight:!1}),v(c,(0,U.Z)(r))}),(0,N.Z)((0,U.Z)(r),"onDrop",function(c){var v=r.props.context.onNodeDrop;c.preventDefault(),c.stopPropagation(),r.setState({dragNodeHighlight:!1}),v(c,(0,U.Z)(r))}),(0,N.Z)((0,U.Z)(r),"onExpand",function(c){var v=r.props,T=v.loading,w=v.context.onNodeExpand;T||w(c,(0,le.F)(r.props))}),(0,N.Z)((0,U.Z)(r),"setSelectHandle",function(c){r.selectHandle=c}),(0,N.Z)((0,U.Z)(r),"getNodeState",function(){var c=r.props.expanded;return r.isLeaf()?null:c?ne:s}),(0,N.Z)((0,U.Z)(r),"hasChildren",function(){var c=r.props.eventKey,v=r.props.context.keyEntities,T=(0,ke.Z)(v,c)||{},w=T.children;return!!(w||[]).length}),(0,N.Z)((0,U.Z)(r),"isLeaf",function(){var c=r.props,v=c.isLeaf,T=c.loaded,w=r.props.context.loadData,z=r.hasChildren();return v===!1?!1:v||!w&&!z||w&&T&&!z}),(0,N.Z)((0,U.Z)(r),"isDisabled",function(){var c=r.props.disabled,v=r.props.context.disabled;return!!(v||c)}),(0,N.Z)((0,U.Z)(r),"isCheckable",function(){var c=r.props.checkable,v=r.props.context.checkable;return!v||c===!1?!1:v}),(0,N.Z)((0,U.Z)(r),"syncLoadData",function(c){var v=c.expanded,T=c.loading,w=c.loaded,z=r.props.context,de=z.loadData,he=z.onNodeLoad;T||de&&v&&!r.isLeaf()&&!w&&he((0,le.F)(r.props))}),(0,N.Z)((0,U.Z)(r),"isDraggable",function(){var c=r.props,v=c.data,T=c.context.draggable;return!!(T&&(!T.nodeDraggable||T.nodeDraggable(v)))}),(0,N.Z)((0,U.Z)(r),"renderDragHandler",function(){var c=r.props.context,v=c.draggable,T=c.prefixCls;return v!=null&&v.icon?A.createElement("span",{className:"".concat(T,"-draggable-icon")},v.icon):null}),(0,N.Z)((0,U.Z)(r),"renderSwitcherIconDom",function(c){var v=r.props.switcherIcon,T=r.props.context.switcherIcon,w=v||T;return typeof w=="function"?w((0,_.Z)((0,_.Z)({},r.props),{},{isLeaf:c})):w}),(0,N.Z)((0,U.Z)(r),"renderSwitcher",function(){var c=r.props.expanded,v=r.props.context.prefixCls;if(r.isLeaf()){var T=r.renderSwitcherIconDom(!0);return T!==!1?A.createElement("span",{className:X()("".concat(v,"-switcher"),"".concat(v,"-switcher-noop"))},T):null}var w=X()("".concat(v,"-switcher"),"".concat(v,"-switcher_").concat(c?ne:s)),z=r.renderSwitcherIconDom(!1);return z!==!1?A.createElement("span",{onClick:r.onExpand,className:w},z):null}),(0,N.Z)((0,U.Z)(r),"renderCheckbox",function(){var c=r.props,v=c.checked,T=c.halfChecked,w=c.disableCheckbox,z=r.props.context.prefixCls,de=r.isDisabled(),he=r.isCheckable();if(!he)return null;var Q=typeof he!="boolean"?he:null;return A.createElement("span",{className:X()("".concat(z,"-checkbox"),v&&"".concat(z,"-checkbox-checked"),!v&&T&&"".concat(z,"-checkbox-indeterminate"),(de||w)&&"".concat(z,"-checkbox-disabled")),onClick:r.onCheck},Q)}),(0,N.Z)((0,U.Z)(r),"renderIcon",function(){var c=r.props.loading,v=r.props.context.prefixCls;return A.createElement("span",{className:X()("".concat(v,"-iconEle"),"".concat(v,"-icon__").concat(r.getNodeState()||"docu"),c&&"".concat(v,"-icon_loading"))})}),(0,N.Z)((0,U.Z)(r),"renderSelector",function(){var c=r.state.dragNodeHighlight,v=r.props,T=v.title,w=T===void 0?x:T,z=v.selected,de=v.icon,he=v.loading,Q=v.data,Ee=r.props.context,ce=Ee.prefixCls,Ue=Ee.showIcon,Be=Ee.icon,Ye=Ee.loadData,ee=Ee.titleRender,Te=r.isDisabled(),Fe="".concat(ce,"-node-content-wrapper"),Xe;if(Ue){var Oe=de||Be;Xe=Oe?A.createElement("span",{className:X()("".concat(ce,"-iconEle"),"".concat(ce,"-icon__customize"))},typeof Oe=="function"?Oe(r.props):Oe):r.renderIcon()}else Ye&&he&&(Xe=r.renderIcon());var Ie;typeof w=="function"?Ie=w(Q):ee?Ie=ee(Q):Ie=w;var d=A.createElement("span",{className:"".concat(ce,"-title")},Ie);return A.createElement("span",{ref:r.setSelectHandle,title:typeof w=="string"?w:"",className:X()("".concat(Fe),"".concat(Fe,"-").concat(r.getNodeState()||"normal"),!Te&&(z||c)&&"".concat(ce,"-node-selected")),onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onContextMenu:r.onContextMenu,onClick:r.onSelectorClick,onDoubleClick:r.onSelectorDoubleClick},Xe,d,r.renderDropIndicator())}),(0,N.Z)((0,U.Z)(r),"renderDropIndicator",function(){var c=r.props,v=c.disabled,T=c.eventKey,w=r.props.context,z=w.draggable,de=w.dropLevelOffset,he=w.dropPosition,Q=w.prefixCls,Ee=w.indent,ce=w.dropIndicatorRender,Ue=w.dragOverNodeKey,Be=w.direction,Ye=!!z,ee=!v&&Ye&&Ue===T,Te=Ee!=null?Ee:r.cacheIndent;return r.cacheIndent=Ee,ee?ce({dropPosition:he,dropLevelOffset:de,indent:Te,prefixCls:Q,direction:Be}):null}),r}return(0,ve.Z)(J,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var q=this.props.selectable,W=this.props.context.selectable;return typeof q=="boolean"?q:W}},{key:"render",value:function(){var q,W=this.props,re=W.eventKey,c=W.className,v=W.style,T=W.dragOver,w=W.dragOverGapTop,z=W.dragOverGapBottom,de=W.isLeaf,he=W.isStart,Q=W.isEnd,Ee=W.expanded,ce=W.selected,Ue=W.checked,Be=W.halfChecked,Ye=W.loading,ee=W.domRef,Te=W.active,Fe=W.data,Xe=W.onMouseMove,Oe=W.selectable,Ie=(0,be.Z)(W,fe),d=this.props.context,i=d.prefixCls,h=d.filterTreeNode,Z=d.keyEntities,e=d.dropContainerKey,l=d.dropTargetKey,C=d.draggingNodeKey,y=this.isDisabled(),t=(0,u.Z)(Ie,{aria:!0,data:!0}),a=(0,ke.Z)(Z,re)||{},n=a.level,o=Q[Q.length-1],f=this.isDraggable(),p=!y&&f,m=C===re,E=Oe!==void 0?{"aria-selected":!!Oe}:void 0;return A.createElement("div",(0,xe.Z)({ref:ee,className:X()(c,"".concat(i,"-treenode"),(q={},(0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)(q,"".concat(i,"-treenode-disabled"),y),"".concat(i,"-treenode-switcher-").concat(Ee?"open":"close"),!de),"".concat(i,"-treenode-checkbox-checked"),Ue),"".concat(i,"-treenode-checkbox-indeterminate"),Be),"".concat(i,"-treenode-selected"),ce),"".concat(i,"-treenode-loading"),Ye),"".concat(i,"-treenode-active"),Te),"".concat(i,"-treenode-leaf-last"),o),"".concat(i,"-treenode-draggable"),f),"dragging",m),(0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)(q,"drop-target",l===re),"drop-container",e===re),"drag-over",!y&&T),"drag-over-gap-top",!y&&w),"drag-over-gap-bottom",!y&&z),"filter-node",h&&h((0,le.F)(this.props))))),style:v,draggable:p,"aria-grabbed":m,onDragStart:p?this.onDragStart:void 0,onDragEnter:f?this.onDragEnter:void 0,onDragOver:f?this.onDragOver:void 0,onDragLeave:f?this.onDragLeave:void 0,onDrop:f?this.onDrop:void 0,onDragEnd:f?this.onDragEnd:void 0,onMouseMove:Xe},E,t),A.createElement($,{prefixCls:i,level:n,isStart:he,isEnd:Q}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),J}(A.Component),O=function(b){return A.createElement(Me.k.Consumer,null,function(J){return A.createElement(P,(0,xe.Z)({},b,{context:J}))})};O.displayName="TreeNode",O.isTreeNode=1;var R=O},27822:function(dt,we,g){g.d(we,{k:function(){return be}});var xe=g(67294),be=xe.createContext(null)},70593:function(dt,we,g){g.d(we,{O:function(){return R.Z},Z:function(){return d}});var xe=g(87462),be=g(71002),_=g(1413),ge=g(74902),ve=g(15671),U=g(43144),B=g(97326),Ce=g(60136),N=g(18486),k=g(4942),X=g(93967),u=g.n(X),A=g(15105),Me=g(64217),De=g(80334),$=g(67294),ke=g(27822);function le(i){var h=i.dropPosition,Z=i.dropLevelOffset,e=i.indent,l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(h){case-1:l.top=0,l.left=-Z*e;break;case 1:l.bottom=0,l.left=-Z*e;break;case 0:l.bottom=0,l.left=e;break}return $.createElement("div",{style:l})}function fe(i){if(i==null)throw new TypeError("Cannot destructure "+i)}var ne=g(97685),s=g(91),x=g(8410),P=g(87718),O=g(29372),R=g(86128);function V(i,h){var Z=$.useState(!1),e=(0,ne.Z)(Z,2),l=e[0],C=e[1];(0,x.Z)(function(){if(l)return i(),function(){h()}},[l]),(0,x.Z)(function(){return C(!0),function(){C(!1)}},[])}var b=g(1089),J=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],r=function(h,Z){var e=h.className,l=h.style,C=h.motion,y=h.motionNodes,t=h.motionType,a=h.onMotionStart,n=h.onMotionEnd,o=h.active,f=h.treeNodeRequiredProps,p=(0,s.Z)(h,J),m=$.useState(!0),E=(0,ne.Z)(m,2),D=E[0],K=E[1],S=$.useContext(ke.k),L=S.prefixCls,M=y&&t!=="hide";(0,x.Z)(function(){y&&M!==D&&K(M)},[y]);var I=function(){y&&a()},G=$.useRef(!1),F=function(){y&&!G.current&&(G.current=!0,n())};V(I,F);var te=function(ae){M===ae&&F()};return y?$.createElement(O.ZP,(0,xe.Z)({ref:Z,visible:D},C,{motionAppear:t==="show",onVisibleChanged:te}),function(j,ae){var ue=j.className,pe=j.style;return $.createElement("div",{ref:ae,className:u()("".concat(L,"-treenode-motion"),ue),style:pe},y.map(function(oe){var ye=Object.assign({},(fe(oe.data),oe.data)),He=oe.title,Se=oe.key,Ae=oe.isStart,Ke=oe.isEnd;delete ye.children;var Ne=(0,b.H8)(Se,f);return $.createElement(R.Z,(0,xe.Z)({},ye,Ne,{title:He,active:o,data:oe.data,key:Se,isStart:Ae,isEnd:Ke}))}))}):$.createElement(R.Z,(0,xe.Z)({domRef:Z,className:e,style:l},p,{active:o}))};r.displayName="MotionTreeNode";var q=$.forwardRef(r),W=q;function re(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Z=i.length,e=h.length;if(Math.abs(Z-e)!==1)return{add:!1,key:null};function l(C,y){var t=new Map;C.forEach(function(n){t.set(n,!0)});var a=y.filter(function(n){return!t.has(n)});return a.length===1?a[0]:null}return Z<e?{add:!0,key:l(i,h)}:{add:!1,key:l(h,i)}}function c(i,h,Z){var e=i.findIndex(function(t){return t.key===Z}),l=i[e+1],C=h.findIndex(function(t){return t.key===Z});if(l){var y=h.findIndex(function(t){return t.key===l.key});return h.slice(C+1,y)}return h.slice(C+1)}var v=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],T={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},w=function(){},z="RC_TREE_MOTION_".concat(Math.random()),de={key:z},he={key:z,level:0,index:0,pos:"0",node:de,nodes:[de]},Q={parent:null,children:[],pos:he.pos,data:de,title:null,key:z,isStart:[],isEnd:[]};function Ee(i,h,Z,e){return h===!1||!Z?i:i.slice(0,Math.ceil(Z/e)+1)}function ce(i){var h=i.key,Z=i.pos;return(0,b.km)(h,Z)}function Ue(i){for(var h=String(i.data.key),Z=i;Z.parent;)Z=Z.parent,h="".concat(Z.data.key," > ").concat(h);return h}var Be=$.forwardRef(function(i,h){var Z=i.prefixCls,e=i.data,l=i.selectable,C=i.checkable,y=i.expandedKeys,t=i.selectedKeys,a=i.checkedKeys,n=i.loadedKeys,o=i.loadingKeys,f=i.halfCheckedKeys,p=i.keyEntities,m=i.disabled,E=i.dragging,D=i.dragOverNodeKey,K=i.dropPosition,S=i.motion,L=i.height,M=i.itemHeight,I=i.virtual,G=i.focusable,F=i.activeItem,te=i.focused,j=i.tabIndex,ae=i.onKeyDown,ue=i.onFocus,pe=i.onBlur,oe=i.onActiveChange,ye=i.onListChangeStart,He=i.onListChangeEnd,Se=(0,s.Z)(i,v),Ae=$.useRef(null),Ke=$.useRef(null);$.useImperativeHandle(h,function(){return{scrollTo:function(Ve){Ae.current.scrollTo(Ve)},getIndentWidth:function(){return Ke.current.offsetWidth}}});var Ne=$.useState(y),nt=(0,ne.Z)(Ne,2),Ze=nt[0],Je=nt[1],rt=$.useState(e),qe=(0,ne.Z)(rt,2),Qe=qe[0],at=qe[1],Le=$.useState(e),$e=(0,ne.Z)(Le,2),Ge=$e[0],Pe=$e[1],se=$.useState([]),We=(0,ne.Z)(se,2),mt=We[0],ot=We[1],vt=$.useState(null),ht=(0,ne.Z)(vt,2),Et=ht[0],ct=ht[1],pt=$.useRef(e);pt.current=e;function et(){var me=pt.current;at(me),Pe(me),ot([]),ct(null),He()}(0,x.Z)(function(){Je(y);var me=re(Ze,y);if(me.key!==null)if(me.add){var Ve=Qe.findIndex(function(ft){var yt=ft.key;return yt===me.key}),tt=Ee(c(Qe,e,me.key),I,L,M),ze=Qe.slice();ze.splice(Ve+1,0,Q),Pe(ze),ot(tt),ct("show")}else{var _e=e.findIndex(function(ft){var yt=ft.key;return yt===me.key}),st=Ee(c(e,Qe,me.key),I,L,M),it=e.slice();it.splice(_e+1,0,Q),Pe(it),ot(st),ct("hide")}else Qe!==e&&(at(e),Pe(e))},[y,e]),$.useEffect(function(){E||et()},[E]);var gt=S?Ge:e,ut={expandedKeys:y,selectedKeys:t,loadedKeys:n,loadingKeys:o,checkedKeys:a,halfCheckedKeys:f,dragOverNodeKey:D,dropPosition:K,keyEntities:p};return $.createElement($.Fragment,null,te&&F&&$.createElement("span",{style:T,"aria-live":"assertive"},Ue(F)),$.createElement("div",null,$.createElement("input",{style:T,disabled:G===!1||m,tabIndex:G!==!1?j:null,onKeyDown:ae,onFocus:ue,onBlur:pe,value:"",onChange:w,"aria-label":"for screen reader"})),$.createElement("div",{className:"".concat(Z,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},$.createElement("div",{className:"".concat(Z,"-indent")},$.createElement("div",{ref:Ke,className:"".concat(Z,"-indent-unit")}))),$.createElement(P.Z,(0,xe.Z)({},Se,{data:gt,itemKey:ce,height:L,fullHeight:!1,virtual:I,itemHeight:M,prefixCls:"".concat(Z,"-list"),ref:Ae,onVisibleChange:function(Ve){Ve.every(function(tt){return ce(tt)!==z})&&et()}}),function(me){var Ve=me.pos,tt=Object.assign({},(fe(me.data),me.data)),ze=me.title,_e=me.key,st=me.isStart,it=me.isEnd,ft=(0,b.km)(_e,Ve);delete tt.key,delete tt.children;var yt=(0,b.H8)(ft,ut);return $.createElement(W,(0,xe.Z)({},tt,yt,{title:ze,active:!!F&&_e===F.key,pos:Ve,data:me.data,isStart:st,isEnd:it,motion:S,motionNodes:_e===z?mt:null,motionType:Et,onMotionStart:ye,onMotionEnd:et,treeNodeRequiredProps:ut,onMouseMove:function(){oe(null)}}))}))});Be.displayName="NodeList";var Ye=Be,ee=g(10225),Te=g(17341),Fe=g(35381),Xe=10,Oe=function(i){(0,Ce.Z)(Z,i);var h=(0,N.Z)(Z);function Z(){var e;(0,ve.Z)(this,Z);for(var l=arguments.length,C=new Array(l),y=0;y<l;y++)C[y]=arguments[y];return e=h.call.apply(h,[this].concat(C)),(0,k.Z)((0,B.Z)(e),"destroyed",!1),(0,k.Z)((0,B.Z)(e),"delayedDragEnterLogic",void 0),(0,k.Z)((0,B.Z)(e),"loadingRetryTimes",{}),(0,k.Z)((0,B.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,b.w$)()}),(0,k.Z)((0,B.Z)(e),"dragStartMousePosition",null),(0,k.Z)((0,B.Z)(e),"dragNode",void 0),(0,k.Z)((0,B.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,k.Z)((0,B.Z)(e),"listRef",$.createRef()),(0,k.Z)((0,B.Z)(e),"onNodeDragStart",function(t,a){var n=e.state,o=n.expandedKeys,f=n.keyEntities,p=e.props.onDragStart,m=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var E=(0,ee._5)(o,m);e.setState({draggingNodeKey:m,dragChildrenKeys:(0,ee.wA)(m,f),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(E),window.addEventListener("dragend",e.onWindowDragEnd),p==null||p({event:t,node:(0,b.F)(a.props)})}),(0,k.Z)((0,B.Z)(e),"onNodeDragEnter",function(t,a){var n=e.state,o=n.expandedKeys,f=n.keyEntities,p=n.dragChildrenKeys,m=n.flattenNodes,E=n.indent,D=e.props,K=D.onDragEnter,S=D.onExpand,L=D.allowDrop,M=D.direction,I=a.props,G=I.pos,F=I.eventKey,te=(0,B.Z)(e),j=te.dragNode;if(e.currentMouseOverDroppableNodeKey!==F&&(e.currentMouseOverDroppableNodeKey=F),!j){e.resetDragState();return}var ae=(0,ee.OM)(t,j,a,E,e.dragStartMousePosition,L,m,f,o,M),ue=ae.dropPosition,pe=ae.dropLevelOffset,oe=ae.dropTargetKey,ye=ae.dropContainerKey,He=ae.dropTargetPos,Se=ae.dropAllowed,Ae=ae.dragOverNodeKey;if(p.indexOf(oe)!==-1||!Se){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(Ke){clearTimeout(e.delayedDragEnterLogic[Ke])}),j.props.eventKey!==a.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[G]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var Ke=(0,ge.Z)(o),Ne=(0,Fe.Z)(f,a.props.eventKey);Ne&&(Ne.children||[]).length&&(Ke=(0,ee.L0)(o,a.props.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(Ke),S==null||S(Ke,{node:(0,b.F)(a.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),j.props.eventKey===oe&&pe===0){e.resetDragState();return}e.setState({dragOverNodeKey:Ae,dropPosition:ue,dropLevelOffset:pe,dropTargetKey:oe,dropContainerKey:ye,dropTargetPos:He,dropAllowed:Se}),K==null||K({event:t,node:(0,b.F)(a.props),expandedKeys:o})}),(0,k.Z)((0,B.Z)(e),"onNodeDragOver",function(t,a){var n=e.state,o=n.dragChildrenKeys,f=n.flattenNodes,p=n.keyEntities,m=n.expandedKeys,E=n.indent,D=e.props,K=D.onDragOver,S=D.allowDrop,L=D.direction,M=(0,B.Z)(e),I=M.dragNode;if(I){var G=(0,ee.OM)(t,I,a,E,e.dragStartMousePosition,S,f,p,m,L),F=G.dropPosition,te=G.dropLevelOffset,j=G.dropTargetKey,ae=G.dropContainerKey,ue=G.dropAllowed,pe=G.dropTargetPos,oe=G.dragOverNodeKey;o.indexOf(j)!==-1||!ue||(I.props.eventKey===j&&te===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():F===e.state.dropPosition&&te===e.state.dropLevelOffset&&j===e.state.dropTargetKey&&ae===e.state.dropContainerKey&&pe===e.state.dropTargetPos&&ue===e.state.dropAllowed&&oe===e.state.dragOverNodeKey||e.setState({dropPosition:F,dropLevelOffset:te,dropTargetKey:j,dropContainerKey:ae,dropTargetPos:pe,dropAllowed:ue,dragOverNodeKey:oe}),K==null||K({event:t,node:(0,b.F)(a.props)}))}}),(0,k.Z)((0,B.Z)(e),"onNodeDragLeave",function(t,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var n=e.props.onDragLeave;n==null||n({event:t,node:(0,b.F)(a.props)})}),(0,k.Z)((0,B.Z)(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,k.Z)((0,B.Z)(e),"onNodeDragEnd",function(t,a){var n=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),n==null||n({event:t,node:(0,b.F)(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,k.Z)((0,B.Z)(e),"onNodeDrop",function(t,a){var n,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=e.state,p=f.dragChildrenKeys,m=f.dropPosition,E=f.dropTargetKey,D=f.dropTargetPos,K=f.dropAllowed;if(K){var S=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),E!==null){var L=(0,_.Z)((0,_.Z)({},(0,b.H8)(E,e.getTreeNodeRequiredProps())),{},{active:((n=e.getActiveItem())===null||n===void 0?void 0:n.key)===E,data:(0,Fe.Z)(e.state.keyEntities,E).node}),M=p.indexOf(E)!==-1;(0,De.ZP)(!M,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var I=(0,ee.yx)(D),G={event:t,node:(0,b.F)(L),dragNode:e.dragNode?(0,b.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(p),dropToGap:m!==0,dropPosition:m+Number(I[I.length-1])};o||S==null||S(G),e.dragNode=null}}}),(0,k.Z)((0,B.Z)(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,k.Z)((0,B.Z)(e),"triggerExpandActionExpand",function(t,a){var n=e.state,o=n.expandedKeys,f=n.flattenNodes,p=a.expanded,m=a.key,E=a.isLeaf;if(!(E||t.shiftKey||t.metaKey||t.ctrlKey)){var D=f.filter(function(S){return S.key===m})[0],K=(0,b.F)((0,_.Z)((0,_.Z)({},(0,b.H8)(m,e.getTreeNodeRequiredProps())),{},{data:D.data}));e.setExpandedKeys(p?(0,ee._5)(o,m):(0,ee.L0)(o,m)),e.onNodeExpand(t,K)}}),(0,k.Z)((0,B.Z)(e),"onNodeClick",function(t,a){var n=e.props,o=n.onClick,f=n.expandAction;f==="click"&&e.triggerExpandActionExpand(t,a),o==null||o(t,a)}),(0,k.Z)((0,B.Z)(e),"onNodeDoubleClick",function(t,a){var n=e.props,o=n.onDoubleClick,f=n.expandAction;f==="doubleClick"&&e.triggerExpandActionExpand(t,a),o==null||o(t,a)}),(0,k.Z)((0,B.Z)(e),"onNodeSelect",function(t,a){var n=e.state.selectedKeys,o=e.state,f=o.keyEntities,p=o.fieldNames,m=e.props,E=m.onSelect,D=m.multiple,K=a.selected,S=a[p.key],L=!K;L?D?n=(0,ee.L0)(n,S):n=[S]:n=(0,ee._5)(n,S);var M=n.map(function(I){var G=(0,Fe.Z)(f,I);return G?G.node:null}).filter(function(I){return I});e.setUncontrolledState({selectedKeys:n}),E==null||E(n,{event:"select",selected:L,node:a,selectedNodes:M,nativeEvent:t.nativeEvent})}),(0,k.Z)((0,B.Z)(e),"onNodeCheck",function(t,a,n){var o=e.state,f=o.keyEntities,p=o.checkedKeys,m=o.halfCheckedKeys,E=e.props,D=E.checkStrictly,K=E.onCheck,S=a.key,L,M={event:"check",node:a,checked:n,nativeEvent:t.nativeEvent};if(D){var I=n?(0,ee.L0)(p,S):(0,ee._5)(p,S),G=(0,ee._5)(m,S);L={checked:I,halfChecked:G},M.checkedNodes=I.map(function(pe){return(0,Fe.Z)(f,pe)}).filter(function(pe){return pe}).map(function(pe){return pe.node}),e.setUncontrolledState({checkedKeys:I})}else{var F=(0,Te.S)([].concat((0,ge.Z)(p),[S]),!0,f),te=F.checkedKeys,j=F.halfCheckedKeys;if(!n){var ae=new Set(te);ae.delete(S);var ue=(0,Te.S)(Array.from(ae),{checked:!1,halfCheckedKeys:j},f);te=ue.checkedKeys,j=ue.halfCheckedKeys}L=te,M.checkedNodes=[],M.checkedNodesPositions=[],M.halfCheckedKeys=j,te.forEach(function(pe){var oe=(0,Fe.Z)(f,pe);if(oe){var ye=oe.node,He=oe.pos;M.checkedNodes.push(ye),M.checkedNodesPositions.push({node:ye,pos:He})}}),e.setUncontrolledState({checkedKeys:te},!1,{halfCheckedKeys:j})}K==null||K(L,M)}),(0,k.Z)((0,B.Z)(e),"onNodeLoad",function(t){var a,n=t.key,o=e.state.keyEntities,f=(0,Fe.Z)(o,n);if(!(f!=null&&(a=f.children)!==null&&a!==void 0&&a.length)){var p=new Promise(function(m,E){e.setState(function(D){var K=D.loadedKeys,S=K===void 0?[]:K,L=D.loadingKeys,M=L===void 0?[]:L,I=e.props,G=I.loadData,F=I.onLoad;if(!G||S.indexOf(n)!==-1||M.indexOf(n)!==-1)return null;var te=G(t);return te.then(function(){var j=e.state.loadedKeys,ae=(0,ee.L0)(j,n);F==null||F(ae,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:ae}),e.setState(function(ue){return{loadingKeys:(0,ee._5)(ue.loadingKeys,n)}}),m()}).catch(function(j){if(e.setState(function(ue){return{loadingKeys:(0,ee._5)(ue.loadingKeys,n)}}),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=Xe){var ae=e.state.loadedKeys;(0,De.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,ee.L0)(ae,n)}),m()}E(j)}),{loadingKeys:(0,ee.L0)(M,n)}})});return p.catch(function(){}),p}}),(0,k.Z)((0,B.Z)(e),"onNodeMouseEnter",function(t,a){var n=e.props.onMouseEnter;n==null||n({event:t,node:a})}),(0,k.Z)((0,B.Z)(e),"onNodeMouseLeave",function(t,a){var n=e.props.onMouseLeave;n==null||n({event:t,node:a})}),(0,k.Z)((0,B.Z)(e),"onNodeContextMenu",function(t,a){var n=e.props.onRightClick;n&&(t.preventDefault(),n({event:t,node:a}))}),(0,k.Z)((0,B.Z)(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];t==null||t.apply(void 0,n)}),(0,k.Z)((0,B.Z)(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];t==null||t.apply(void 0,n)}),(0,k.Z)((0,B.Z)(e),"getTreeNodeRequiredProps",function(){var t=e.state,a=t.expandedKeys,n=t.selectedKeys,o=t.loadedKeys,f=t.loadingKeys,p=t.checkedKeys,m=t.halfCheckedKeys,E=t.dragOverNodeKey,D=t.dropPosition,K=t.keyEntities;return{expandedKeys:a||[],selectedKeys:n||[],loadedKeys:o||[],loadingKeys:f||[],checkedKeys:p||[],halfCheckedKeys:m||[],dragOverNodeKey:E,dropPosition:D,keyEntities:K}}),(0,k.Z)((0,B.Z)(e),"setExpandedKeys",function(t){var a=e.state,n=a.treeData,o=a.fieldNames,f=(0,b.oH)(n,t,o);e.setUncontrolledState({expandedKeys:t,flattenNodes:f},!0)}),(0,k.Z)((0,B.Z)(e),"onNodeExpand",function(t,a){var n=e.state.expandedKeys,o=e.state,f=o.listChanging,p=o.fieldNames,m=e.props,E=m.onExpand,D=m.loadData,K=a.expanded,S=a[p.key];if(!f){var L=n.indexOf(S),M=!K;if((0,De.ZP)(K&&L!==-1||!K&&L===-1,"Expand state not sync with index check"),M?n=(0,ee.L0)(n,S):n=(0,ee._5)(n,S),e.setExpandedKeys(n),E==null||E(n,{node:a,expanded:M,nativeEvent:t.nativeEvent}),M&&D){var I=e.onNodeLoad(a);I&&I.then(function(){var G=(0,b.oH)(e.state.treeData,n,p);e.setUncontrolledState({flattenNodes:G})}).catch(function(){var G=e.state.expandedKeys,F=(0,ee._5)(G,S);e.setExpandedKeys(F)})}}}),(0,k.Z)((0,B.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,k.Z)((0,B.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,k.Z)((0,B.Z)(e),"onActiveChange",function(t){var a=e.state.activeKey,n=e.props,o=n.onActiveChange,f=n.itemScrollOffset,p=f===void 0?0:f;a!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:p}),o==null||o(t))}),(0,k.Z)((0,B.Z)(e),"getActiveItem",function(){var t=e.state,a=t.activeKey,n=t.flattenNodes;return a===null?null:n.find(function(o){var f=o.key;return f===a})||null}),(0,k.Z)((0,B.Z)(e),"offsetActiveKey",function(t){var a=e.state,n=a.flattenNodes,o=a.activeKey,f=n.findIndex(function(E){var D=E.key;return D===o});f===-1&&t<0&&(f=n.length),f=(f+t+n.length)%n.length;var p=n[f];if(p){var m=p.key;e.onActiveChange(m)}else e.onActiveChange(null)}),(0,k.Z)((0,B.Z)(e),"onKeyDown",function(t){var a=e.state,n=a.activeKey,o=a.expandedKeys,f=a.checkedKeys,p=a.fieldNames,m=e.props,E=m.onKeyDown,D=m.checkable,K=m.selectable;switch(t.which){case A.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case A.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var S=e.getActiveItem();if(S&&S.data){var L=e.getTreeNodeRequiredProps(),M=S.data.isLeaf===!1||!!(S.data[p.children]||[]).length,I=(0,b.F)((0,_.Z)((0,_.Z)({},(0,b.H8)(n,L)),{},{data:S.data,active:!0}));switch(t.which){case A.Z.LEFT:{M&&o.includes(n)?e.onNodeExpand({},I):S.parent&&e.onActiveChange(S.parent.key),t.preventDefault();break}case A.Z.RIGHT:{M&&!o.includes(n)?e.onNodeExpand({},I):S.children&&S.children.length&&e.onActiveChange(S.children[0].key),t.preventDefault();break}case A.Z.ENTER:case A.Z.SPACE:{D&&!I.disabled&&I.checkable!==!1&&!I.disableCheckbox?e.onNodeCheck({},I,!f.includes(n)):!D&&K&&!I.disabled&&I.selectable!==!1&&e.onNodeSelect({},I);break}}}E==null||E(t)}),(0,k.Z)((0,B.Z)(e),"setUncontrolledState",function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var o=!1,f=!0,p={};Object.keys(t).forEach(function(m){if(e.props.hasOwnProperty(m)){f=!1;return}o=!0,p[m]=t[m]}),o&&(!a||f)&&e.setState((0,_.Z)((0,_.Z)({},p),n))}}),(0,k.Z)((0,B.Z)(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return(0,U.Z)(Z,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var l=this.props,C=l.activeKey,y=l.itemScrollOffset,t=y===void 0?0:y;C!==void 0&&C!==this.state.activeKey&&(this.setState({activeKey:C}),C!==null&&this.scrollTo({key:C,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var l=this.state,C=l.focused,y=l.flattenNodes,t=l.keyEntities,a=l.draggingNodeKey,n=l.activeKey,o=l.dropLevelOffset,f=l.dropContainerKey,p=l.dropTargetKey,m=l.dropPosition,E=l.dragOverNodeKey,D=l.indent,K=this.props,S=K.prefixCls,L=K.className,M=K.style,I=K.showLine,G=K.focusable,F=K.tabIndex,te=F===void 0?0:F,j=K.selectable,ae=K.showIcon,ue=K.icon,pe=K.switcherIcon,oe=K.draggable,ye=K.checkable,He=K.checkStrictly,Se=K.disabled,Ae=K.motion,Ke=K.loadData,Ne=K.filterTreeNode,nt=K.height,Ze=K.itemHeight,Je=K.virtual,rt=K.titleRender,qe=K.dropIndicatorRender,Qe=K.onContextMenu,at=K.onScroll,Le=K.direction,$e=K.rootClassName,Ge=K.rootStyle,Pe=(0,Me.Z)(this.props,{aria:!0,data:!0}),se;return oe&&((0,be.Z)(oe)==="object"?se=oe:typeof oe=="function"?se={nodeDraggable:oe}:se={}),$.createElement(ke.k.Provider,{value:{prefixCls:S,selectable:j,showIcon:ae,icon:ue,switcherIcon:pe,draggable:se,draggingNodeKey:a,checkable:ye,checkStrictly:He,disabled:Se,keyEntities:t,dropLevelOffset:o,dropContainerKey:f,dropTargetKey:p,dropPosition:m,dragOverNodeKey:E,indent:D,direction:Le,dropIndicatorRender:qe,loadData:Ke,filterTreeNode:Ne,titleRender:rt,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},$.createElement("div",{role:"tree",className:u()(S,L,$e,(0,k.Z)((0,k.Z)((0,k.Z)({},"".concat(S,"-show-line"),I),"".concat(S,"-focused"),C),"".concat(S,"-active-focused"),n!==null)),style:Ge},$.createElement(Ye,(0,xe.Z)({ref:this.listRef,prefixCls:S,style:M,data:y,disabled:Se,selectable:j,checkable:!!ye,motion:Ae,dragging:a!==null,height:nt,itemHeight:Ze,virtual:Je,focusable:G,focused:C,tabIndex:te,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Qe,onScroll:at},this.getTreeNodeRequiredProps(),Pe))))}}],[{key:"getDerivedStateFromProps",value:function(l,C){var y=C.prevProps,t={prevProps:l};function a(te){return!y&&l.hasOwnProperty(te)||y&&y[te]!==l[te]}var n,o=C.fieldNames;if(a("fieldNames")&&(o=(0,b.w$)(l.fieldNames),t.fieldNames=o),a("treeData")?n=l.treeData:a("children")&&((0,De.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=(0,b.zn)(l.children)),n){t.treeData=n;var f=(0,b.I8)(n,{fieldNames:o});t.keyEntities=(0,_.Z)((0,k.Z)({},z,he),f.keyEntities)}var p=t.keyEntities||C.keyEntities;if(a("expandedKeys")||y&&a("autoExpandParent"))t.expandedKeys=l.autoExpandParent||!y&&l.defaultExpandParent?(0,ee.r7)(l.expandedKeys,p):l.expandedKeys;else if(!y&&l.defaultExpandAll){var m=(0,_.Z)({},p);delete m[z];var E=[];Object.keys(m).forEach(function(te){var j=m[te];j.children&&j.children.length&&E.push(j.key)}),t.expandedKeys=E}else!y&&l.defaultExpandedKeys&&(t.expandedKeys=l.autoExpandParent||l.defaultExpandParent?(0,ee.r7)(l.defaultExpandedKeys,p):l.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,n||t.expandedKeys){var D=(0,b.oH)(n||C.treeData,t.expandedKeys||C.expandedKeys,o);t.flattenNodes=D}if(l.selectable&&(a("selectedKeys")?t.selectedKeys=(0,ee.BT)(l.selectedKeys,l):!y&&l.defaultSelectedKeys&&(t.selectedKeys=(0,ee.BT)(l.defaultSelectedKeys,l))),l.checkable){var K;if(a("checkedKeys")?K=(0,ee.E6)(l.checkedKeys)||{}:!y&&l.defaultCheckedKeys?K=(0,ee.E6)(l.defaultCheckedKeys)||{}:n&&(K=(0,ee.E6)(l.checkedKeys)||{checkedKeys:C.checkedKeys,halfCheckedKeys:C.halfCheckedKeys}),K){var S=K,L=S.checkedKeys,M=L===void 0?[]:L,I=S.halfCheckedKeys,G=I===void 0?[]:I;if(!l.checkStrictly){var F=(0,Te.S)(M,!0,p);M=F.checkedKeys,G=F.halfCheckedKeys}t.checkedKeys=M,t.halfCheckedKeys=G}}return a("loadedKeys")&&(t.loadedKeys=l.loadedKeys),t}}]),Z}($.Component);(0,k.Z)(Oe,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:le,allowDrop:function(){return!0},expandAction:!1}),(0,k.Z)(Oe,"TreeNode",R.Z);var Ie=Oe,d=Ie},10225:function(dt,we,g){g.d(we,{BT:function(){return $},E6:function(){return fe},L0:function(){return k},OM:function(){return De},_5:function(){return N},r7:function(){return ne},wA:function(){return u},yx:function(){return X}});var xe=g(74902),be=g(71002),_=g(80334),ge=g(67294),ve=g(86128),U=g(35381),B=g(1089),Ce=null;function N(s,x){if(!s)return[];var P=s.slice(),O=P.indexOf(x);return O>=0&&P.splice(O,1),P}function k(s,x){var P=(s||[]).slice();return P.indexOf(x)===-1&&P.push(x),P}function X(s){return s.split("-")}function u(s,x){var P=[],O=(0,U.Z)(x,s);function R(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];V.forEach(function(b){var J=b.key,r=b.children;P.push(J),R(r)})}return R(O.children),P}function A(s){if(s.parent){var x=X(s.pos);return Number(x[x.length-1])===s.parent.children.length-1}return!1}function Me(s){var x=X(s.pos);return Number(x[x.length-1])===0}function De(s,x,P,O,R,V,b,J,r,q){var W,re=s.clientX,c=s.clientY,v=s.target.getBoundingClientRect(),T=v.top,w=v.height,z=(q==="rtl"?-1:1)*(((R==null?void 0:R.x)||0)-re),de=(z-12)/O,he=r.filter(function(i){var h;return(h=J[i])===null||h===void 0||(h=h.children)===null||h===void 0?void 0:h.length}),Q=(0,U.Z)(J,P.props.eventKey);if(c<T+w/2){var Ee=b.findIndex(function(i){return i.key===Q.key}),ce=Ee<=0?0:Ee-1,Ue=b[ce].key;Q=(0,U.Z)(J,Ue)}var Be=Q.key,Ye=Q,ee=Q.key,Te=0,Fe=0;if(!he.includes(Be))for(var Xe=0;Xe<de&&A(Q);Xe+=1)Q=Q.parent,Fe+=1;var Oe=x.props.data,Ie=Q.node,d=!0;return Me(Q)&&Q.level===0&&c<T+w/2&&V({dragNode:Oe,dropNode:Ie,dropPosition:-1})&&Q.key===P.props.eventKey?Te=-1:(Ye.children||[]).length&&he.includes(ee)?V({dragNode:Oe,dropNode:Ie,dropPosition:0})?Te=0:d=!1:Fe===0?de>-1.5?V({dragNode:Oe,dropNode:Ie,dropPosition:1})?Te=1:d=!1:V({dragNode:Oe,dropNode:Ie,dropPosition:0})?Te=0:V({dragNode:Oe,dropNode:Ie,dropPosition:1})?Te=1:d=!1:V({dragNode:Oe,dropNode:Ie,dropPosition:1})?Te=1:d=!1,{dropPosition:Te,dropLevelOffset:Fe,dropTargetKey:Q.key,dropTargetPos:Q.pos,dragOverNodeKey:ee,dropContainerKey:Te===0?null:((W=Q.parent)===null||W===void 0?void 0:W.key)||null,dropAllowed:d}}function $(s,x){if(s){var P=x.multiple;return P?s.slice():s.length?[s[0]]:s}}var ke=function(x){return x};function le(s,x){if(!s)return[];var P=x||{},O=P.processProps,R=O===void 0?ke:O,V=Array.isArray(s)?s:[s];return V.map(function(b){var J=b.children,r=_objectWithoutProperties(b,Ce),q=le(J,x);return React.createElement(TreeNode,_extends({key:r.key},R(r)),q)})}function fe(s){if(!s)return null;var x;if(Array.isArray(s))x={checkedKeys:s,halfCheckedKeys:void 0};else if((0,be.Z)(s)==="object")x={checkedKeys:s.checked||void 0,halfCheckedKeys:s.halfChecked||void 0};else return(0,_.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return x}function ne(s,x){var P=new Set;function O(R){if(!P.has(R)){var V=(0,U.Z)(x,R);if(V){P.add(R);var b=V.parent,J=V.node;J.disabled||b&&O(b.key)}}}return(s||[]).forEach(function(R){O(R)}),(0,xe.Z)(P)}},17341:function(dt,we,g){g.d(we,{S:function(){return B}});var xe=g(80334),be=g(35381);function _(Ce,N){var k=new Set;return Ce.forEach(function(X){N.has(X)||k.add(X)}),k}function ge(Ce){var N=Ce||{},k=N.disabled,X=N.disableCheckbox,u=N.checkable;return!!(k||X)||u===!1}function ve(Ce,N,k,X){for(var u=new Set(Ce),A=new Set,Me=0;Me<=k;Me+=1){var De=N.get(Me)||new Set;De.forEach(function(fe){var ne=fe.key,s=fe.node,x=fe.children,P=x===void 0?[]:x;u.has(ne)&&!X(s)&&P.filter(function(O){return!X(O.node)}).forEach(function(O){u.add(O.key)})})}for(var $=new Set,ke=k;ke>=0;ke-=1){var le=N.get(ke)||new Set;le.forEach(function(fe){var ne=fe.parent,s=fe.node;if(!(X(s)||!fe.parent||$.has(fe.parent.key))){if(X(fe.parent.node)){$.add(ne.key);return}var x=!0,P=!1;(ne.children||[]).filter(function(O){return!X(O.node)}).forEach(function(O){var R=O.key,V=u.has(R);x&&!V&&(x=!1),!P&&(V||A.has(R))&&(P=!0)}),x&&u.add(ne.key),P&&A.add(ne.key),$.add(ne.key)}})}return{checkedKeys:Array.from(u),halfCheckedKeys:Array.from(_(A,u))}}function U(Ce,N,k,X,u){for(var A=new Set(Ce),Me=new Set(N),De=0;De<=X;De+=1){var $=k.get(De)||new Set;$.forEach(function(ne){var s=ne.key,x=ne.node,P=ne.children,O=P===void 0?[]:P;!A.has(s)&&!Me.has(s)&&!u(x)&&O.filter(function(R){return!u(R.node)}).forEach(function(R){A.delete(R.key)})})}Me=new Set;for(var ke=new Set,le=X;le>=0;le-=1){var fe=k.get(le)||new Set;fe.forEach(function(ne){var s=ne.parent,x=ne.node;if(!(u(x)||!ne.parent||ke.has(ne.parent.key))){if(u(ne.parent.node)){ke.add(s.key);return}var P=!0,O=!1;(s.children||[]).filter(function(R){return!u(R.node)}).forEach(function(R){var V=R.key,b=A.has(V);P&&!b&&(P=!1),!O&&(b||Me.has(V))&&(O=!0)}),P||A.delete(s.key),O&&Me.add(s.key),ke.add(s.key)}})}return{checkedKeys:Array.from(A),halfCheckedKeys:Array.from(_(Me,A))}}function B(Ce,N,k,X){var u=[],A;X?A=X:A=ge;var Me=new Set(Ce.filter(function(le){var fe=!!(0,be.Z)(k,le);return fe||u.push(le),fe})),De=new Map,$=0;Object.keys(k).forEach(function(le){var fe=k[le],ne=fe.level,s=De.get(ne);s||(s=new Set,De.set(ne,s)),s.add(fe),$=Math.max($,ne)}),(0,xe.ZP)(!u.length,"Tree missing follow keys: ".concat(u.slice(0,100).map(function(le){return"'".concat(le,"'")}).join(", ")));var ke;return N===!0?ke=ve(Me,De,$,A):ke=U(Me,N.halfCheckedKeys,De,$,A),ke}},35381:function(dt,we,g){g.d(we,{Z:function(){return xe}});function xe(be,_){return be[_]}},1089:function(dt,we,g){g.d(we,{F:function(){return ne},H8:function(){return fe},I8:function(){return le},km:function(){return u},oH:function(){return $},w$:function(){return A},zn:function(){return De}});var xe=g(71002),be=g(74902),_=g(1413),ge=g(91),ve=g(50344),U=g(98423),B=g(80334),Ce=g(35381),N=["children"];function k(s,x){return"".concat(s,"-").concat(x)}function X(s){return s&&s.type&&s.type.isTreeNode}function u(s,x){return s!=null?s:x}function A(s){var x=s||{},P=x.title,O=x._title,R=x.key,V=x.children,b=P||"title";return{title:b,_title:O||[b],key:R||"key",children:V||"children"}}function Me(s,x){var P=new Map;function O(R){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(R||[]).forEach(function(b){var J=b[x.key],r=b[x.children];warning(J!=null,"Tree node must have a certain key: [".concat(V).concat(J,"]"));var q=String(J);warning(!P.has(q)||J===null||J===void 0,"Same 'key' exist in the Tree: ".concat(q)),P.set(q,!0),O(r,"".concat(V).concat(q," > "))})}O(s)}function De(s){function x(P){var O=(0,ve.Z)(P);return O.map(function(R){if(!X(R))return(0,B.ZP)(!R,"Tree/TreeNode can only accept TreeNode as children."),null;var V=R.key,b=R.props,J=b.children,r=(0,ge.Z)(b,N),q=(0,_.Z)({key:V},r),W=x(J);return W.length&&(q.children=W),q}).filter(function(R){return R})}return x(s)}function $(s,x,P){var O=A(P),R=O._title,V=O.key,b=O.children,J=new Set(x===!0?[]:x),r=[];function q(W){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return W.map(function(c,v){for(var T=k(re?re.pos:"0",v),w=u(c[V],T),z,de=0;de<R.length;de+=1){var he=R[de];if(c[he]!==void 0){z=c[he];break}}var Q=Object.assign((0,U.Z)(c,[].concat((0,be.Z)(R),[V,b])),{title:z,key:w,parent:re,pos:T,children:null,data:c,isStart:[].concat((0,be.Z)(re?re.isStart:[]),[v===0]),isEnd:[].concat((0,be.Z)(re?re.isEnd:[]),[v===W.length-1])});return r.push(Q),x===!0||J.has(w)?Q.children=q(c[b]||[],Q):Q.children=[],Q})}return q(s),r}function ke(s,x,P){var O={};(0,xe.Z)(P)==="object"?O=P:O={externalGetKey:P},O=O||{};var R=O,V=R.childrenPropName,b=R.externalGetKey,J=R.fieldNames,r=A(J),q=r.key,W=r.children,re=V||W,c;b?typeof b=="string"?c=function(w){return w[b]}:typeof b=="function"&&(c=function(w){return b(w)}):c=function(w,z){return u(w[q],z)};function v(T,w,z,de){var he=T?T[re]:s,Q=T?k(z.pos,w):"0",Ee=T?[].concat((0,be.Z)(de),[T]):[];if(T){var ce=c(T,Q),Ue={node:T,index:w,pos:Q,key:ce,parentPos:z.node?z.pos:null,level:z.level+1,nodes:Ee};x(Ue)}he&&he.forEach(function(Be,Ye){v(Be,Ye,{node:T,pos:Q,level:z?z.level+1:-1},Ee)})}v(null)}function le(s){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=x.initWrapper,O=x.processEntity,R=x.onProcessFinished,V=x.externalGetKey,b=x.childrenPropName,J=x.fieldNames,r=arguments.length>2?arguments[2]:void 0,q=V||r,W={},re={},c={posEntities:W,keyEntities:re};return P&&(c=P(c)||c),ke(s,function(v){var T=v.node,w=v.index,z=v.pos,de=v.key,he=v.parentPos,Q=v.level,Ee=v.nodes,ce={node:T,nodes:Ee,index:w,key:de,pos:z,level:Q},Ue=u(de,z);W[z]=ce,re[Ue]=ce,ce.parent=W[he],ce.parent&&(ce.parent.children=ce.parent.children||[],ce.parent.children.push(ce)),O&&O(ce,c)},{externalGetKey:q,childrenPropName:b,fieldNames:J}),R&&R(c),c}function fe(s,x){var P=x.expandedKeys,O=x.selectedKeys,R=x.loadedKeys,V=x.loadingKeys,b=x.checkedKeys,J=x.halfCheckedKeys,r=x.dragOverNodeKey,q=x.dropPosition,W=x.keyEntities,re=(0,Ce.Z)(W,s),c={eventKey:s,expanded:P.indexOf(s)!==-1,selected:O.indexOf(s)!==-1,loaded:R.indexOf(s)!==-1,loading:V.indexOf(s)!==-1,checked:b.indexOf(s)!==-1,halfChecked:J.indexOf(s)!==-1,pos:String(re?re.pos:""),dragOver:r===s&&q===0,dragOverGapTop:r===s&&q===-1,dragOverGapBottom:r===s&&q===1};return c}function ne(s){var x=s.data,P=s.expanded,O=s.selected,R=s.checked,V=s.loaded,b=s.loading,J=s.halfChecked,r=s.dragOver,q=s.dragOverGapTop,W=s.dragOverGapBottom,re=s.pos,c=s.active,v=s.eventKey,T=(0,_.Z)((0,_.Z)({},x),{},{expanded:P,selected:O,checked:R,loaded:V,loading:b,halfChecked:J,dragOver:r,dragOverGapTop:q,dragOverGapBottom:W,pos:re,active:c,key:v});return"props"in T||Object.defineProperty(T,"props",{get:function(){return(0,B.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),s}}),T}},64217:function(dt,we,g){g.d(we,{Z:function(){return Ce}});var xe=g(1413),be=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,_=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,ge="".concat(be," ").concat(_).split(/[\s\n]+/),ve="aria-",U="data-";function B(N,k){return N.indexOf(k)===0}function Ce(N){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,X;k===!1?X={aria:!0,data:!0,attr:!0}:k===!0?X={aria:!0}:X=(0,xe.Z)({},k);var u={};return Object.keys(N).forEach(function(A){(X.aria&&(A==="role"||B(A,ve))||X.data&&B(A,U)||X.attr&&ge.includes(A))&&(u[A]=N[A])}),u}},87718:function(dt,we,g){g.d(we,{Z:function(){return Ie}});var xe=g(87462),be=g(71002),_=g(1413),ge=g(4942),ve=g(97685),U=g(91),B=g(93967),Ce=g.n(B),N=g(9220),k=g(56790),X=g(8410),u=g(67294),A=g(73935),Me=u.forwardRef(function(d,i){var h=d.height,Z=d.offsetY,e=d.offsetX,l=d.children,C=d.prefixCls,y=d.onInnerResize,t=d.innerProps,a=d.rtl,n=d.extra,o={},f={display:"flex",flexDirection:"column"};return Z!==void 0&&(o={height:h,position:"relative",overflow:"hidden"},f=(0,_.Z)((0,_.Z)({},f),{},(0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)({transform:"translateY(".concat(Z,"px)")},a?"marginRight":"marginLeft",-e),"position","absolute"),"left",0),"right",0),"top",0))),u.createElement("div",{style:o},u.createElement(N.Z,{onResize:function(m){var E=m.offsetHeight;E&&y&&y()}},u.createElement("div",(0,xe.Z)({style:f,className:Ce()((0,ge.Z)({},"".concat(C,"-holder-inner"),C)),ref:i},t),l,n)))});Me.displayName="Filler";var De=Me;function $(d){var i=d.children,h=d.setRef,Z=u.useCallback(function(e){h(e)},[]);return u.cloneElement(i,{ref:Z})}function ke(d,i,h,Z,e,l,C,y){var t=y.getKey;return d.slice(i,h+1).map(function(a,n){var o=i+n,f=C(a,o,{style:{width:Z},offsetX:e}),p=t(a);return u.createElement($,{key:p,setRef:function(E){return l(a,E)}},f)})}function le(d,i,h,Z){var e=h-d,l=i-h,C=Math.min(e,l)*2;if(Z<=C){var y=Math.floor(Z/2);return Z%2?h+y+1:h-y}return e>l?h-(Z-l):h+(Z-e)}function fe(d,i,h){var Z=d.length,e=i.length,l,C;if(Z===0&&e===0)return null;Z<e?(l=d,C=i):(l=i,C=d);var y={__EMPTY_ITEM__:!0};function t(m){return m!==void 0?h(m):y}for(var a=null,n=Math.abs(Z-e)!==1,o=0;o<C.length;o+=1){var f=t(l[o]),p=t(C[o]);if(f!==p){a=o,n=n||f!==t(C[o+1]);break}}return a===null?null:{index:a,multiple:n}}function ne(d,i,h){var Z=u.useState(d),e=(0,ve.Z)(Z,2),l=e[0],C=e[1],y=u.useState(null),t=(0,ve.Z)(y,2),a=t[0],n=t[1];return u.useEffect(function(){var o=fe(l||[],d||[],i);(o==null?void 0:o.index)!==void 0&&(h==null||h(o.index),n(d[o.index])),C(d)},[d]),[a]}var s=g(75164),x=(typeof navigator=="undefined"?"undefined":(0,be.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),P=x,O=function(d,i,h,Z){var e=(0,u.useRef)(!1),l=(0,u.useRef)(null);function C(){clearTimeout(l.current),e.current=!0,l.current=setTimeout(function(){e.current=!1},50)}var y=(0,u.useRef)({top:d,bottom:i,left:h,right:Z});return y.current.top=d,y.current.bottom=i,y.current.left=h,y.current.right=Z,function(t,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=t?a<0&&y.current.left||a>0&&y.current.right:a<0&&y.current.top||a>0&&y.current.bottom;return n&&o?(clearTimeout(l.current),e.current=!1):(!o||e.current)&&C(),!e.current&&o}};function R(d,i,h,Z,e,l,C){var y=(0,u.useRef)(0),t=(0,u.useRef)(null),a=(0,u.useRef)(null),n=(0,u.useRef)(!1),o=O(i,h,Z,e);function f(S,L){if(s.Z.cancel(t.current),!o(!1,L)){var M=S;if(!M._virtualHandled)M._virtualHandled=!0;else return;y.current+=L,a.current=L,P||M.preventDefault(),t.current=(0,s.Z)(function(){var I=n.current?10:1;C(y.current*I,!1),y.current=0})}}function p(S,L){C(L,!0),P||S.preventDefault()}var m=(0,u.useRef)(null),E=(0,u.useRef)(null);function D(S){if(d){s.Z.cancel(E.current),E.current=(0,s.Z)(function(){m.current=null},2);var L=S.deltaX,M=S.deltaY,I=S.shiftKey,G=L,F=M;(m.current==="sx"||!m.current&&I&&M&&!L)&&(G=M,F=0,m.current="sx");var te=Math.abs(G),j=Math.abs(F);m.current===null&&(m.current=l&&te>j?"x":"y"),m.current==="y"?f(S,F):p(S,G)}}function K(S){d&&(n.current=S.detail===a.current)}return[D,K]}function V(d,i,h,Z){var e=u.useMemo(function(){return[new Map,[]]},[d,h.id,Z]),l=(0,ve.Z)(e,2),C=l[0],y=l[1],t=function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,f=C.get(n),p=C.get(o);if(f===void 0||p===void 0)for(var m=d.length,E=y.length;E<m;E+=1){var D,K=d[E],S=i(K);C.set(S,E);var L=(D=h.get(S))!==null&&D!==void 0?D:Z;if(y[E]=(y[E-1]||0)+L,S===n&&(f=E),S===o&&(p=E),f!==void 0&&p!==void 0)break}return{top:y[f-1]||0,bottom:y[p]}};return t}var b=g(34203),J=g(15671),r=g(43144),q=function(){function d(){(0,J.Z)(this,d),(0,ge.Z)(this,"maps",void 0),(0,ge.Z)(this,"id",0),this.maps=Object.create(null)}return(0,r.Z)(d,[{key:"set",value:function(h,Z){this.maps[h]=Z,this.id+=1}},{key:"get",value:function(h){return this.maps[h]}}]),d}(),W=q;function re(d){var i=parseFloat(d);return isNaN(i)?0:i}function c(d,i,h){var Z=u.useState(0),e=(0,ve.Z)(Z,2),l=e[0],C=e[1],y=(0,u.useRef)(new Map),t=(0,u.useRef)(new W),a=(0,u.useRef)();function n(){s.Z.cancel(a.current)}function o(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;n();var m=function(){y.current.forEach(function(D,K){if(D&&D.offsetParent){var S=(0,b.ZP)(D),L=S.offsetHeight,M=getComputedStyle(S),I=M.marginTop,G=M.marginBottom,F=re(I),te=re(G),j=L+F+te;t.current.get(K)!==j&&t.current.set(K,j)}}),C(function(D){return D+1})};p?m():a.current=(0,s.Z)(m)}function f(p,m){var E=d(p),D=y.current.get(E);m?(y.current.set(E,m),o()):y.current.delete(E),!D!=!m&&(m?i==null||i(p):h==null||h(p))}return(0,u.useEffect)(function(){return n},[]),[f,o,t.current,l]}var v=14/15;function T(d,i,h){var Z=(0,u.useRef)(!1),e=(0,u.useRef)(0),l=(0,u.useRef)(0),C=(0,u.useRef)(null),y=(0,u.useRef)(null),t,a=function(p){if(Z.current){var m=Math.ceil(p.touches[0].pageX),E=Math.ceil(p.touches[0].pageY),D=e.current-m,K=l.current-E,S=Math.abs(D)>Math.abs(K);S?e.current=m:l.current=E;var L=h(S,S?D:K,!1,p);L&&p.preventDefault(),clearInterval(y.current),L&&(y.current=setInterval(function(){S?D*=v:K*=v;var M=Math.floor(S?D:K);(!h(S,M,!0)||Math.abs(M)<=.1)&&clearInterval(y.current)},16))}},n=function(){Z.current=!1,t()},o=function(p){t(),p.touches.length===1&&!Z.current&&(Z.current=!0,e.current=Math.ceil(p.touches[0].pageX),l.current=Math.ceil(p.touches[0].pageY),C.current=p.target,C.current.addEventListener("touchmove",a,{passive:!1}),C.current.addEventListener("touchend",n,{passive:!0}))};t=function(){C.current&&(C.current.removeEventListener("touchmove",a),C.current.removeEventListener("touchend",n))},(0,X.Z)(function(){return d&&i.current.addEventListener("touchstart",o,{passive:!0}),function(){var f;(f=i.current)===null||f===void 0||f.removeEventListener("touchstart",o),t(),clearInterval(y.current)}},[d])}function w(d){return Math.floor(Math.pow(d,.5))}function z(d,i){var h="touches"in d?d.touches[0]:d;return h[i?"pageX":"pageY"]-window[i?"scrollX":"scrollY"]}function de(d,i,h){u.useEffect(function(){var Z=i.current;if(d&&Z){var e=!1,l,C,y=function(){s.Z.cancel(l)},t=function f(){y(),l=(0,s.Z)(function(){h(C),f()})},a=function(p){var m=p;m._virtualHandled||(m._virtualHandled=!0,e=!0)},n=function(){e=!1,y()},o=function(p){if(e){var m=z(p,!1),E=Z.getBoundingClientRect(),D=E.top,K=E.bottom;if(m<=D){var S=D-m;C=-w(S),t()}else if(m>=K){var L=m-K;C=w(L),t()}else y()}};return Z.addEventListener("mousedown",a),Z.ownerDocument.addEventListener("mouseup",n),Z.ownerDocument.addEventListener("mousemove",o),function(){Z.removeEventListener("mousedown",a),Z.ownerDocument.removeEventListener("mouseup",n),Z.ownerDocument.removeEventListener("mousemove",o),y()}}},[d])}var he=10;function Q(d,i,h,Z,e,l,C,y){var t=u.useRef(),a=u.useState(null),n=(0,ve.Z)(a,2),o=n[0],f=n[1];return(0,X.Z)(function(){if(o&&o.times<he){if(!d.current){f(function(Ne){return(0,_.Z)({},Ne)});return}l();var p=o.targetAlign,m=o.originAlign,E=o.index,D=o.offset,K=d.current.clientHeight,S=!1,L=p,M=null;if(K){for(var I=p||m,G=0,F=0,te=0,j=Math.min(i.length-1,E),ae=0;ae<=j;ae+=1){var ue=e(i[ae]);F=G;var pe=h.get(ue);te=F+(pe===void 0?Z:pe),G=te}for(var oe=I==="top"?D:K-D,ye=j;ye>=0;ye-=1){var He=e(i[ye]),Se=h.get(He);if(Se===void 0){S=!0;break}if(oe-=Se,oe<=0)break}switch(I){case"top":M=F-D;break;case"bottom":M=te-K+D;break;default:{var Ae=d.current.scrollTop,Ke=Ae+K;F<Ae?L="top":te>Ke&&(L="bottom")}}M!==null&&C(M),M!==o.lastTop&&(S=!0)}S&&f((0,_.Z)((0,_.Z)({},o),{},{times:o.times+1,targetAlign:L,lastTop:M}))}},[o,d.current]),function(p){if(p==null){y();return}if(s.Z.cancel(t.current),typeof p=="number")C(p);else if(p&&(0,be.Z)(p)==="object"){var m,E=p.align;"index"in p?m=p.index:m=i.findIndex(function(S){return e(S)===p.key});var D=p.offset,K=D===void 0?0:D;f({times:0,index:m,offset:K,originAlign:E})}}}var Ee=u.forwardRef(function(d,i){var h=d.prefixCls,Z=d.rtl,e=d.scrollOffset,l=d.scrollRange,C=d.onStartMove,y=d.onStopMove,t=d.onScroll,a=d.horizontal,n=d.spinSize,o=d.containerSize,f=d.style,p=d.thumbStyle,m=u.useState(!1),E=(0,ve.Z)(m,2),D=E[0],K=E[1],S=u.useState(null),L=(0,ve.Z)(S,2),M=L[0],I=L[1],G=u.useState(null),F=(0,ve.Z)(G,2),te=F[0],j=F[1],ae=!Z,ue=u.useRef(),pe=u.useRef(),oe=u.useState(!1),ye=(0,ve.Z)(oe,2),He=ye[0],Se=ye[1],Ae=u.useRef(),Ke=function(){clearTimeout(Ae.current),Se(!0),Ae.current=setTimeout(function(){Se(!1)},3e3)},Ne=l-o||0,nt=o-n||0,Ze=u.useMemo(function(){if(e===0||Ne===0)return 0;var Pe=e/Ne;return Pe*nt},[e,Ne,nt]),Je=function(se){se.stopPropagation(),se.preventDefault()},rt=u.useRef({top:Ze,dragging:D,pageY:M,startTop:te});rt.current={top:Ze,dragging:D,pageY:M,startTop:te};var qe=function(se){K(!0),I(z(se,a)),j(rt.current.top),C(),se.stopPropagation(),se.preventDefault()};u.useEffect(function(){var Pe=function(ot){ot.preventDefault()},se=ue.current,We=pe.current;return se.addEventListener("touchstart",Pe,{passive:!1}),We.addEventListener("touchstart",qe,{passive:!1}),function(){se.removeEventListener("touchstart",Pe),We.removeEventListener("touchstart",qe)}},[]);var Qe=u.useRef();Qe.current=Ne;var at=u.useRef();at.current=nt,u.useEffect(function(){if(D){var Pe,se=function(ot){var vt=rt.current,ht=vt.dragging,Et=vt.pageY,ct=vt.startTop;s.Z.cancel(Pe);var pt=ue.current.getBoundingClientRect(),et=o/(a?pt.width:pt.height);if(ht){var gt=(z(ot,a)-Et)*et,ut=ct;!ae&&a?ut-=gt:ut+=gt;var me=Qe.current,Ve=at.current,tt=Ve?ut/Ve:0,ze=Math.ceil(tt*me);ze=Math.max(ze,0),ze=Math.min(ze,me),Pe=(0,s.Z)(function(){t(ze,a)})}},We=function(){K(!1),y()};return window.addEventListener("mousemove",se,{passive:!0}),window.addEventListener("touchmove",se,{passive:!0}),window.addEventListener("mouseup",We,{passive:!0}),window.addEventListener("touchend",We,{passive:!0}),function(){window.removeEventListener("mousemove",se),window.removeEventListener("touchmove",se),window.removeEventListener("mouseup",We),window.removeEventListener("touchend",We),s.Z.cancel(Pe)}}},[D]),u.useEffect(function(){return Ke(),function(){clearTimeout(Ae.current)}},[e]),u.useImperativeHandle(i,function(){return{delayHidden:Ke}});var Le="".concat(h,"-scrollbar"),$e={position:"absolute",visibility:He?null:"hidden"},Ge={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return a?($e.height=8,$e.left=0,$e.right=0,$e.bottom=0,Ge.height="100%",Ge.width=n,ae?Ge.left=Ze:Ge.right=Ze):($e.width=8,$e.top=0,$e.bottom=0,ae?$e.right=0:$e.left=0,Ge.width="100%",Ge.height=n,Ge.top=Ze),u.createElement("div",{ref:ue,className:Ce()(Le,(0,ge.Z)((0,ge.Z)((0,ge.Z)({},"".concat(Le,"-horizontal"),a),"".concat(Le,"-vertical"),!a),"".concat(Le,"-visible"),He)),style:(0,_.Z)((0,_.Z)({},$e),f),onMouseDown:Je,onMouseMove:Ke},u.createElement("div",{ref:pe,className:Ce()("".concat(Le,"-thumb"),(0,ge.Z)({},"".concat(Le,"-thumb-moving"),D)),style:(0,_.Z)((0,_.Z)({},Ge),p),onMouseDown:qe}))}),ce=Ee,Ue=20;function Be(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=d/i*d;return isNaN(h)&&(h=0),h=Math.max(h,Ue),Math.floor(h)}var Ye=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],ee=[],Te={overflowY:"auto",overflowAnchor:"none"};function Fe(d,i){var h=d.prefixCls,Z=h===void 0?"rc-virtual-list":h,e=d.className,l=d.height,C=d.itemHeight,y=d.fullHeight,t=y===void 0?!0:y,a=d.style,n=d.data,o=d.children,f=d.itemKey,p=d.virtual,m=d.direction,E=d.scrollWidth,D=d.component,K=D===void 0?"div":D,S=d.onScroll,L=d.onVirtualScroll,M=d.onVisibleChange,I=d.innerProps,G=d.extraRender,F=d.styles,te=(0,U.Z)(d,Ye),j=u.useCallback(function(Y){return typeof f=="function"?f(Y):Y==null?void 0:Y[f]},[f]),ae=c(j,null,null),ue=(0,ve.Z)(ae,4),pe=ue[0],oe=ue[1],ye=ue[2],He=ue[3],Se=!!(p!==!1&&l&&C),Ae=u.useMemo(function(){return Object.values(ye.maps).reduce(function(Y,H){return Y+H},0)},[ye.id,ye.maps]),Ke=Se&&n&&(Math.max(C*n.length,Ae)>l||!!E),Ne=m==="rtl",nt=Ce()(Z,(0,ge.Z)({},"".concat(Z,"-rtl"),Ne),e),Ze=n||ee,Je=(0,u.useRef)(),rt=(0,u.useRef)(),qe=(0,u.useRef)(),Qe=(0,u.useState)(0),at=(0,ve.Z)(Qe,2),Le=at[0],$e=at[1],Ge=(0,u.useState)(0),Pe=(0,ve.Z)(Ge,2),se=Pe[0],We=Pe[1],mt=(0,u.useState)(!1),ot=(0,ve.Z)(mt,2),vt=ot[0],ht=ot[1],Et=function(){ht(!0)},ct=function(){ht(!1)},pt={getKey:j};function et(Y){$e(function(H){var ie;typeof Y=="function"?ie=Y(H):ie=Y;var Re=Vt(ie);return Je.current.scrollTop=Re,Re})}var gt=(0,u.useRef)({start:0,end:Ze.length}),ut=(0,u.useRef)(),me=ne(Ze,j),Ve=(0,ve.Z)(me,1),tt=Ve[0];ut.current=tt;var ze=u.useMemo(function(){if(!Se)return{scrollHeight:void 0,start:0,end:Ze.length-1,offset:void 0};if(!Ke){var Y;return{scrollHeight:((Y=rt.current)===null||Y===void 0?void 0:Y.offsetHeight)||0,start:0,end:Ze.length-1,offset:void 0}}for(var H=0,ie,Re,je,Wt=Ze.length,Kt=0;Kt<Wt;Kt+=1){var rn=Ze[Kt],an=j(rn),zt=ye.get(an),Tt=H+(zt===void 0?C:zt);Tt>=Le&&ie===void 0&&(ie=Kt,Re=H),Tt>Le+l&&je===void 0&&(je=Kt),H=Tt}return ie===void 0&&(ie=0,Re=0,je=Math.ceil(l/C)),je===void 0&&(je=Ze.length-1),je=Math.min(je+1,Ze.length-1),{scrollHeight:H,start:ie,end:je,offset:Re}},[Ke,Se,Le,Ze,He,l]),_e=ze.scrollHeight,st=ze.start,it=ze.end,ft=ze.offset;gt.current.start=st,gt.current.end=it;var yt=u.useState({width:0,height:l}),Nt=(0,ve.Z)(yt,2),lt=Nt[0],jt=Nt[1],Gt=function(H){jt({width:H.offsetWidth,height:H.offsetHeight})},Ot=(0,u.useRef)(),Lt=(0,u.useRef)(),Yt=u.useMemo(function(){return Be(lt.width,E)},[lt.width,E]),Xt=u.useMemo(function(){return Be(lt.height,_e)},[lt.height,_e]),Dt=_e-l,kt=(0,u.useRef)(Dt);kt.current=Dt;function Vt(Y){var H=Y;return Number.isNaN(kt.current)||(H=Math.min(H,kt.current)),H=Math.max(H,0),H}var Zt=Le<=0,xt=Le>=Dt,wt=se<=0,It=se>=E,Jt=O(Zt,xt,wt,It),bt=function(){return{x:Ne?-se:se,y:Le}},Mt=(0,u.useRef)(bt()),Ct=(0,k.zX)(function(Y){if(L){var H=(0,_.Z)((0,_.Z)({},bt()),Y);(Mt.current.x!==H.x||Mt.current.y!==H.y)&&(L(H),Mt.current=H)}});function At(Y,H){var ie=Y;H?((0,A.flushSync)(function(){We(ie)}),Ct()):et(ie)}function Qt(Y){var H=Y.currentTarget.scrollTop;H!==Le&&et(H),S==null||S(Y),Ct()}var Pt=function(H){var ie=H,Re=E?E-lt.width:0;return ie=Math.max(ie,0),ie=Math.min(ie,Re),ie},_t=(0,k.zX)(function(Y,H){H?((0,A.flushSync)(function(){We(function(ie){var Re=ie+(Ne?-Y:Y);return Pt(Re)})}),Ct()):et(function(ie){var Re=ie+Y;return Re})}),qt=R(Se,Zt,xt,wt,It,!!E,_t),$t=(0,ve.Z)(qt,2),Rt=$t[0],Ft=$t[1];T(Se,Je,function(Y,H,ie,Re){var je=Re;return Jt(Y,H,ie)?!1:!je||!je._virtualHandled?(je&&(je._virtualHandled=!0),Rt({preventDefault:function(){},deltaX:Y?H:0,deltaY:Y?0:H}),!0):!1}),de(Ke,Je,function(Y){et(function(H){return H+Y})}),(0,X.Z)(function(){function Y(ie){var Re=Zt&&ie.detail<0,je=xt&&ie.detail>0;Se&&!Re&&!je&&ie.preventDefault()}var H=Je.current;return H.addEventListener("wheel",Rt,{passive:!1}),H.addEventListener("DOMMouseScroll",Ft,{passive:!0}),H.addEventListener("MozMousePixelScroll",Y,{passive:!1}),function(){H.removeEventListener("wheel",Rt),H.removeEventListener("DOMMouseScroll",Ft),H.removeEventListener("MozMousePixelScroll",Y)}},[Se,Zt,xt]),(0,X.Z)(function(){if(E){var Y=Pt(se);We(Y),Ct({x:Y})}},[lt.width,E]);var Ht=function(){var H,ie;(H=Ot.current)===null||H===void 0||H.delayHidden(),(ie=Lt.current)===null||ie===void 0||ie.delayHidden()},Ut=Q(Je,Ze,ye,C,j,function(){return oe(!0)},et,Ht);u.useImperativeHandle(i,function(){return{nativeElement:qe.current,getScrollInfo:bt,scrollTo:function(H){function ie(Re){return Re&&(0,be.Z)(Re)==="object"&&("left"in Re||"top"in Re)}ie(H)?(H.left!==void 0&&We(Pt(H.left)),Ut(H.top)):Ut(H)}}}),(0,X.Z)(function(){if(M){var Y=Ze.slice(st,it+1);M(Y,Ze)}},[st,it,Ze]);var en=V(Ze,j,ye,C),tn=G==null?void 0:G({start:st,end:it,virtual:Ke,offsetX:se,offsetY:ft,rtl:Ne,getSize:en}),nn=ke(Ze,st,it,E,se,pe,o,pt),St=null;l&&(St=(0,_.Z)((0,ge.Z)({},t?"height":"maxHeight",l),Te),Se&&(St.overflowY="hidden",E&&(St.overflowX="hidden"),vt&&(St.pointerEvents="none")));var Bt={};return Ne&&(Bt.dir="rtl"),u.createElement("div",(0,xe.Z)({ref:qe,style:(0,_.Z)((0,_.Z)({},a),{},{position:"relative"}),className:nt},Bt,te),u.createElement(N.Z,{onResize:Gt},u.createElement(K,{className:"".concat(Z,"-holder"),style:St,ref:Je,onScroll:Qt,onMouseEnter:Ht},u.createElement(De,{prefixCls:Z,height:_e,offsetX:se,offsetY:ft,scrollWidth:E,onInnerResize:oe,ref:rt,innerProps:I,rtl:Ne,extra:tn},nn))),Ke&&_e>l&&u.createElement(ce,{ref:Ot,prefixCls:Z,scrollOffset:Le,scrollRange:_e,rtl:Ne,onScroll:At,onStartMove:Et,onStopMove:ct,spinSize:Xt,containerSize:lt.height,style:F==null?void 0:F.verticalScrollBar,thumbStyle:F==null?void 0:F.verticalScrollBarThumb}),Ke&&E>lt.width&&u.createElement(ce,{ref:Lt,prefixCls:Z,scrollOffset:se,scrollRange:E,rtl:Ne,onScroll:At,onStartMove:Et,onStopMove:ct,spinSize:Yt,containerSize:lt.width,horizontal:!0,style:F==null?void 0:F.horizontalScrollBar,thumbStyle:F==null?void 0:F.horizontalScrollBarThumb}))}var Xe=u.forwardRef(Fe);Xe.displayName="List";var Oe=Xe,Ie=Oe}}]);
